"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const TelegramBot = require("node-telegram-bot-api");
const messageListener_1 = require("./botListener/messageListener");
const Router_1 = require("./Router");
class Bot {
    constructor(token, storage, options = {}) {
        this.router = new Router_1.default();
        this.botInstance = new TelegramBot(token, options);
        this.storageInstance = storage;
        this.botInstance.on('message', messageListener_1.default.bind(this));
    }
    use(path, router) {
        this.router.use(path, router);
    }
    useMiddleware(...middleware) {
        this.router.useMiddleware(...middleware);
    }
    on(path, callback, ...middleware) {
        this.router.on(path, callback, ...middleware);
    }
}
exports.default = Bot;
